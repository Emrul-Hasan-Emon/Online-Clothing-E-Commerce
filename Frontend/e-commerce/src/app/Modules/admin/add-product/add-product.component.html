<div class="address-container">
    <form [formGroup]="addProductForm" (ngSubmit)="productDetailsSubmitted()">
        <div>
            <label for="name">Product Name</label>
            <input type="text" id="name" formControlName="name" required>
        </div>
        <div>
            <label for="category">Category</label>
            <input type="text" id="category" formControlName="category" required>
        </div>
        <div>
            <label for="categoryID">Category ID</label>
            <input type="text" id="categoryID" formControlName="categoryID" required>
        </div>
        <div>
            <label for="brand">Brand Name</label>
            <input type="text" id="brand" formControlName="brand" required>
        </div>
        <div>
            <label for="price">Price</label>
            <input type="text" id="price" formControlName="price" required>
        </div>
        <div>
            <label for="discount">Discount</label>
            <input type="text" id="discount" formControlName="discount" required>
        </div>
        <div formArrayName="sizes" *ngFor="let size of addProductForm.get('sizes')['controls']; let i = index">
            <div [formGroupName]="i">
                <div class="size flex justify-between flex-wrap">
                    <div>
                        <label for="size">Size</label>
                        <select 
                            id="size" 
                            formControlName="size" 
                            (change)="insertSizeColorPair(i)"
                            required>
                            <option value="">Select Size</option>
                            <option 
                                *ngFor="let sizeOption of sizesOptions" 
                                [value]="sizeOption"
                                [disabled]="isSizeColorPairSelected(sizeOption, getColorControl(i).value)"
                                >{{ sizeOption }}</option>
                        </select>
                    </div>
                    <div>
                        <label for="color">Color</label>
                        <select 
                            id="color" 
                            formControlName="color" 
                            (change)="insertSizeColorPair(i)"
                            required>
                            <option value="">Select Color</option>
                            <option 
                                *ngFor="let colorOption of colorOptions" 
                                [value]="colorOption"
                                [disabled]="isSizeColorPairSelected(getSizeControl(i).value, colorOption)"
                                >{{ colorOption }}</option>
                        </select>
                    </div>
                    <div>
                        <label for="quantity">Quantity</label>
                        <input type="text" id="quantity" formControlName="quantity" required>
                    </div>
                    <div>
                        <button type="button" (click)="removeSizeField(i)">Remove</button>
                    </div>
                </div>
            </div>
          </div>
          <div class="flex">
            <div class="add-field">
                <button type="button" (click)="addSizeField()">Add More</button>
            </div>
          </div>
          <div>
            <label for="image">Image</label>
            <input type="file" id="image" (change)="onImageChange($event)" formControlName="image">
          </div>
          <!-- <div *ngIf="selectedImage">
            <img [src]="selectedImage" alt="Selected Image">
          </div> -->
        <div>
            <button type="submit">Delivery Here</button>
        </div>
    </form>
</div>